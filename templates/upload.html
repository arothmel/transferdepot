<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Group {{ group }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}">
</head>
<body>
  <div class="topbar">
    <a class="btn" href="/">Home</a>
    <a class="btn" href="/admin/health">Admin Health</a>
    <a class="btn" href="/admin/dev-api">Dev API</a>
  </div>

  <main>
    <h1>Group: {{ group }}</h1>

    {% if is_gateway %}
    <section class="gateway-callout">
      <h2>Sh1re Gateway Uploads</h2>
      <p>Welcome, Sh1re operators. Please stay on this page while the gateway processes your transfer so we can keep the queue orderly.</p>
      <p>Your upload is important to us. Weâ€™re watching the gateway closely and will nudge it if things slow down.</p>
      <button type="button" class="btn-secondary" onclick="window.location.href='{{ url_for('ui.index') }}'">Cancel and return home</button>
      <p class="gateway-note">Control Room staff should keep using the standard SCT and TTCS upload paths.</p>
    </section>
    {% endif %}

    <!-- Upload form -->
    <form method="post" enctype="multipart/form-data">
      <input type="file" name="file">
      <input type="submit" value="Upload">
    </form>

    <p><a href="{{ url_for('ui.group_status', group=group) }}">Check upload progress</a></p>

    <h2>Files</h2>
    {% if files %}
    <ul>
      {% for f in files %}
        <!-- Link goes to API download endpoint so files open inline -->
        <li><a href="{{ url_for('api_v1.download', group=group, fname=f) }}">{{ f }}</a></li>
      {% endfor %}
    </ul>
    {% else %}
    <p>No files uploaded yet.</p>
    {% endif %}
</main>
</body>
</html>
